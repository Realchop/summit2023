<!-- Content -->
<ion-card style="max-width: 80%; margin: 5% 10%;" >
  <ion-card-header>
    <ion-card-title class="ion-text-center" >
      {{ selectedId ? "Editing" : "New notification" }}
    </ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <ion-input 
      type="text" 
      [(ngModel)]="title"
      placeholder="Title"
      >
    </ion-input>
    
    <ion-textarea 
      [(ngModel)]="description"
      placeholder="Description"
      autoGrow="true"
      >
    </ion-textarea>
  
    <br>
    
    <div
    *ngIf="!selectedId" 
    style="display: flex; justify-content: space-evenly;" >
      <ion-button 
        [disabled]="!title || !description" 
        color="success"
        (click)="createNew()" 
        >
        Publish
      </ion-button>
      <ion-button 
      [disabled]="!title && !description"
      color="danger"
      (click)="clear()"
      > 
        Clear 
      </ion-button>
    </div>
    <div 
    *ngIf="selectedId" 
    style="display: flex; justify-content: space-evenly;" >
      <ion-button 
        [disabled]="!title || !description" 
        color="success"
        (click)="updateNews()" 
        >
        Update
      </ion-button>
      <ion-button
        color="secondary"
        (click)="this.clear()"
      >
        Cancel
      </ion-button>
      <ion-button 
      [disabled]="!title && !description"
      color="danger"
      (click)="deleteNews()"
      > 
        Delete
      </ion-button>
    </div>
  </ion-card-content>
</ion-card>

<div *ngIf="news$ | async as news">
<ion-title *ngIf="news.length" >Past news:</ion-title>
    <app-news 
    (click)="selectNews(n)"
    *ngFor="let n of news" 
    [data]="n" 
    [titleOnly]="true" ></app-news>
</div>

<!-- Toasts -->
<ion-toast
class="ion-text-center"
[isOpen]="openToast"
[message]="toastMessage"
[color]="success ? 'success' : 'danger'"
[duration]="3000"
(didDismiss)="openToast=false"
></ion-toast>
